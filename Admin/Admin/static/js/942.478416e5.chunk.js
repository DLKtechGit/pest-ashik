"use strict";(self.webpackChunkpest_admin=self.webpackChunkpest_admin||[]).push([[942],{81325:function(e,a,s){var t=s(66585);a.Z={createTechnician:e=>t.Z.Post("technician/createTechnician",e),technicianList:e=>t.Z.Get("technician/getTechnician",e),technicianTask:e=>t.Z.Get("task/getTasks",e),createTechnicianTask:e=>t.Z.Post("task/createTask",e),DeleteTechinician:e=>{let a=`technician/delete/${e}`;return t.Z.Post(a)},DeletedTechnician:e=>t.Z.Get("technician/all/deletedTechnician",e),RestoreTechnician:e=>{const a=`technician/delete/technician/${e}`;return t.Z.Post(a)},TechnicianCount:e=>t.Z.Get("company/totalTechnician",e),StartTaskCount:e=>t.Z.Get("task/start/taskcount",e),OngoingTaskCount:e=>t.Z.Get("task/ongoing/taskcount",e),CompletedTaskCount:e=>t.Z.Get("task/completed/taskcount",e),RegisterTechnicican:e=>t.Z.Post("otherauth/technicianRegister",e),EditTechnician:e=>{const a=`technician/editTechnician/${e.id}`;return t.Z.Post(a,e)},GetReports:e=>t.Z.Get("task/completedTaskDetails/",e),deleteTask:e=>t.Z.Post("task/delete/task",e)}},65942:function(e,a,s){s.r(a),s.d(a,{default:function(){return T}});var t=s(47313),l=s(33497),n=s(10259),c=s(1309),r=s(41948),i=s(1397),o=s(69421),m=s(48964),d=s(65213),h=s(46417);var x=()=>{const[e,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(null),[n,c]=(0,t.useState)(""),[x,u]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[p,v]=(0,t.useState)(""),[g,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{C()}),[]);const C=async()=>{y(!0);try{const e=(await o.Z.GetCateogry()).data.Results;console.log("result",e);const a=e.filter((e=>"main"===e.categoryType&&"General Pest Control"===e.category)),s=e.filter((e=>"sub"===e.categoryType));u(a),N(s)}catch(n){console.error("Error fetching categories:",n)}finally{y(!1)}};return(0,h.jsxs)(h.Fragment,{children:[g&&(0,h.jsx)(d.Z,{show:g}),(0,h.jsxs)("div",{className:"Signin",children:[(0,h.jsxs)("div",{className:"d-flex flex-row",children:[(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"mainCategory",className:"mt-3",children:"Main Category"}),(0,h.jsx)(m.ZP,{className:"mt-3",options:x.map((e=>({value:e._id,label:e.category}))),onChange:e=>{v(e.label)}}),n&&(0,h.jsx)("div",{className:"text-danger mt-2",children:n})]}),(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"subCategory",className:"mt-3",children:"Sub Category"}),(0,h.jsx)(m.ZP,{className:"mt-3",options:j.map((e=>({value:e._id,label:e.category}))),onChange:e=>{const s=e.map((e=>e.label));a(s)},isMulti:!0}),n&&(0,h.jsx)("div",{className:"text-danger mt-2",children:n})]})]}),(0,h.jsx)("div",{className:"col-4 mt-4",children:(0,h.jsx)("button",{type:"button",onClick:async()=>{y(!0);try{if(!p)return void c("Service, Image, and Main Category are required");const s=new FormData;s.append("serviceName",e.join(",")),s.append("mainCategory",p);const t=await i.Z.createServices(s);t&&200===t.status?(r.Am.success(t.data.message),l(null),v(""),a([])):404===t.status?r.Am.error("Service already exist."):400===t.status&&r.Am.error("Please select service.")}catch(n){c("Service Creation Failed"),console.error("Error creating service:",n)}finally{y(!1)}},className:"btn tech-btn",children:"Create"})}),(0,h.jsx)(r.Ix,{})]})]})},u=s(79429),j=s(79966),N=s(203),p=s(55383),v=s(24655),g=s.n(v),y=(s(5978),s(98718)),C=s(97890);var b=()=>{const[e,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(null),[n,c]=(0,t.useState)(!1),i=(0,C.s0)();return(0,h.jsxs)(h.Fragment,{children:[n&&(0,h.jsx)(d.Z,{show:n}),(0,h.jsx)(u.J9,{initialValues:{name:"",email:"",address:"",country:"",state:"",city:"",phoneNumber:""},onSubmit:(e,a)=>{(async e=>{c(!0),console.log("Form Values:",e),await y.Z.createCompany(e).then((e=>{201===e.status?(r.Am.success("New Customer Created Successfully"),setTimeout((()=>{i("/customer-list/table")}),1e3)):409===e.status?r.Am.error("Email already exist"):400===e.status&&r.Am.error("Please fill all required field")})),c(!1)})(e).then((()=>{}))},children:t=>{var n,c;let{values:r,setFieldValue:i}=t;return(0,h.jsxs)(u.l0,{children:[(0,h.jsxs)("div",{className:"d-flex flex-row",children:[(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"name",className:"mt-3",children:"Customer Name"}),(0,h.jsx)(u.gN,{name:"name",type:"text",className:"newcompany form-control mt-3",placeholder:"Enter Customer Name"}),(0,h.jsx)(u.Bc,{name:"name",component:"div",className:"text-danger mt-2"})]}),(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"address",className:"mt-3",children:"Customer Address"}),(0,h.jsx)(u.gN,{name:"address",type:"text",className:"newcompany form-control mt-3",placeholder:"Enter Customer Address"}),(0,h.jsx)(u.Bc,{name:"address",component:"div",className:"text-danger mt-2"})]})]}),(0,h.jsxs)("div",{className:"d-flex flex-row",children:[(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"country",className:"mt-3",children:"Country"}),(0,h.jsx)(m.ZP,{className:"mt-3",options:j.Z.getAllCountries(),getOptionLabel:e=>e.name,getOptionValue:e=>e.name,value:j.Z.getAllCountries().find((e=>e.name===r.country)),onChange:e=>{i("country",e.name),a(e)}}),(0,h.jsx)(u.Bc,{name:"country",component:"div",className:"text-danger mt-2"})]}),(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"state",className:"mt-3",children:"State"}),(0,h.jsx)(m.ZP,{className:"mt-3",options:null===N.ZP||void 0===N.ZP?void 0:N.ZP.getStatesOfCountry(null===e||void 0===e?void 0:e.isoCode),getOptionLabel:e=>e.name,getOptionValue:e=>e.name,value:null===(n=N.ZP.getStatesOfCountry(null===e||void 0===e?void 0:e.isoCode))||void 0===n?void 0:n.find((e=>e.name===r.state)),onChange:e=>{i("state",e.name),l(e)}}),(0,h.jsx)(u.Bc,{name:"state",component:"div",className:"text-danger mt-2"})]})]}),(0,h.jsxs)("div",{className:"d-flex flex-row",children:[(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"city",className:"mt-3",children:"City"}),(0,h.jsx)(m.ZP,{className:"mt-3",options:p.Z.getCitiesOfState(null===e||void 0===e?void 0:e.isoCode,null===s||void 0===s?void 0:s.isoCode),getOptionLabel:e=>e.name,getOptionValue:e=>e.name,value:null===(c=p.Z.getCitiesOfState(null===e||void 0===e?void 0:e.isoCode,null===s||void 0===s?void 0:s.isoCode))||void 0===c?void 0:c.find((e=>e.name===r.city)),onChange:e=>i("city",e.name)}),(0,h.jsx)(u.Bc,{name:"city",component:"div",className:"text-danger mt-2"})]}),(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"phoneNumber",className:"mt-3 mb-3",children:"Phone Number"}),(0,h.jsx)(g(),{prefix:"+",countryCodeEditable:!1,country:"bh",value:r.phoneNumber,onChange:e=>{e.startsWith("+")||(e="+"+e),i("phoneNumber",e)},placeholder:"Enter a Phone Number"})]})]}),(0,h.jsx)("div",{className:"d-flex flex-row",children:(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"email",className:"mt-3",children:"Email Address"}),(0,h.jsx)(u.gN,{name:"email",type:"email",className:"newcompany form-control mt-3",placeholder:"Enter Email Address"}),(0,h.jsx)(u.Bc,{name:"email",component:"div",className:"text-danger mt-2"})]})}),(0,h.jsx)("div",{className:"col-4 mt-4",children:(0,h.jsx)("button",{type:"submit",className:"btn tech-btn",children:"Create"})})]})}})]})},f=s(81325);var S=()=>{const[e,a]=(0,t.useState)(!1),s=(0,C.s0)();return(0,h.jsxs)(h.Fragment,{children:[e&&(0,h.jsx)(d.Z,{show:e}),(0,h.jsx)(u.J9,{initialValues:{firstName:"",lastName:"",email:"",phoneNumber:""},onSubmit:(e,t)=>{(async e=>{a(!0),await f.Z.createTechnician(e).then((e=>{201===e.status?(r.Am.success("Technician Created Successfully"),setTimeout((()=>{s("/utils/util/technician/table")}),1e3)):409===e.status?r.Am.error("Email already Exist"):r.Am.error("Please fill all required field")})),a(!1)})(e).then((()=>{}))},children:e=>{let{values:a,setFieldValue:s}=e;return(0,h.jsxs)(u.l0,{children:[(0,h.jsxs)("div",{className:"d-flex flex-row",children:[(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"firstName",className:"mt-3",children:"First Name"}),(0,h.jsx)(u.gN,{name:"firstName",type:"text",className:"form-control mt-3",placeholder:"Enter First Name"}),(0,h.jsx)(u.Bc,{name:"firstName",component:"div",className:"text-danger mt-2"})]}),(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"lastName",className:"mt-3",children:"Last Name"}),(0,h.jsx)(u.gN,{name:"lastName",type:"text",className:"form-control mt-3",placeholder:"Enter Last Name"}),(0,h.jsx)(u.Bc,{name:"lastName",component:"div",className:"text-danger mt-2"})]})]}),(0,h.jsxs)("div",{className:"d-flex flex-row",children:[(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"Email",className:"mt-3",children:"Email Address"}),(0,h.jsx)(u.gN,{name:"email",type:"email",className:"form-control mt-3",placeholder:"Enter Email Address"}),(0,h.jsx)(u.Bc,{name:"email",component:"div",className:"text-danger mt-2"})]}),(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"phoneNumber",className:"mt-3 mb-3",children:"Phone Number"}),(0,h.jsx)(g(),{prefix:"+",countryCodeEditable:!1,country:"bh",value:a.phoneNumber,onChange:e=>{e.startsWith("+")||(e="+"+e),s("phoneNumber",e)},placeholder:"Enter a Phone Number"})]})]}),(0,h.jsx)("div",{className:"d-flex flex-row"}),(0,h.jsx)("div",{className:"col-4 mt-4",children:(0,h.jsx)("button",{type:"submit",className:"btn tech-btn",children:"Create"})})]})}})]})},Z=s(5783);var w=()=>{const[e,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[n,c]=(0,t.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[n&&(0,h.jsx)(d.Z,{show:n}),(0,h.jsxs)("div",{className:"Signin",children:[(0,h.jsx)("div",{className:"d-flex flex-row",children:(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"chemicalsName",className:"mt-3",children:"Chemical Name"}),(0,h.jsx)("input",{name:"chemicalsName",type:"text",value:e,onChange:e=>{a(e.target.value)},className:"form-control mt-3",placeholder:"Enter a Chemical"}),s&&(0,h.jsx)("div",{className:"text-danger mt-2",children:s})]})}),(0,h.jsx)("div",{className:"col-4 mt-4",children:(0,h.jsx)("button",{type:"button",onClick:async()=>{c(!0);try{if(!e)return void l("Chemical Name is required");const s=await Z.Z.createChemicals({chemicalsName:e});s&&200===s.status?(r.Am.success("New Chemicals created Successfully"),a("")):r.Am.error("Chemical already exist.")}catch(s){l("Chemical Name Creation Failed"),console.error("Error creating Chemical Name:",s)}finally{c(!1)}},className:"btn tech-btn",children:"Create"})}),(0,h.jsx)(r.Ix,{})]})]})};var F=()=>{const[e,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(null),[n,c]=(0,t.useState)({value:"sub",label:"Sub Category"}),[i,m]=(0,t.useState)(""),[x,u]=(0,t.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[x&&(0,h.jsx)(d.Z,{show:x}),(0,h.jsxs)("div",{className:"Signin",children:[(0,h.jsx)("div",{className:"d-flex flex-row",children:(0,h.jsxs)("div",{className:"col-6 p-2",children:[(0,h.jsx)("label",{htmlFor:"category",className:"mt-3",children:"Sub Category"}),(0,h.jsx)("input",{name:"category",type:"text",value:e,onChange:e=>{a(e.target.value)},className:"form-control mt-3",placeholder:"Enter a Sub Category"}),i&&(0,h.jsx)("div",{className:"text-danger mt-2",children:i})]})}),(0,h.jsx)("div",{className:"col-4 mt-4",children:(0,h.jsx)("button",{type:"button",onClick:async()=>{u(!0);try{if(!e.trim())return void m("category Name are required");const s=await o.Z.createCateogry({category:e,categoryType:n.value});s&&200===s.status?(r.Am.success("category Created Successfully"),a(""),window.location.reload()):r.Am.error(s.data.message)}catch(i){m("category Creation Failed"),console.error("Error creating category:",i)}finally{u(!1)}},className:"btn tech-btn",children:"Create"})})]})]})};var T=()=>{const e=(0,C.s0)();return(0,t.useEffect)((()=>{"true"===localStorage.getItem("login")||e("/")}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(l.Z,{title:"Add New",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h6",{children:[(0,h.jsx)(n.G,{icon:c.eW2})," \xa0 Create Category"]}),(0,h.jsx)(F,{})]}),(0,h.jsx)("hr",{style:{margin:"40px 0px 40px 0px"}}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("h6",{children:[(0,h.jsx)(n.G,{icon:c.eW2})," \xa0 Create Service"]}),(0,h.jsx)(x,{})]}),(0,h.jsx)("hr",{style:{margin:"40px 0px 40px 0px"}}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("h6",{children:[(0,h.jsx)(n.G,{icon:c.eW2})," \xa0 Create Customer"]}),(0,h.jsx)(b,{}),(0,h.jsx)("hr",{style:{margin:"40px 0px 40px 0px"}}),(0,h.jsxs)("div",{id:"tech",children:[(0,h.jsxs)("h6",{children:[(0,h.jsx)(n.G,{icon:c.eW2})," \xa0 Create Technician"]}),(0,h.jsx)(S,{})]}),(0,h.jsx)("hr",{style:{margin:"40px 0px 40px 0px"}}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("h6",{children:[(0,h.jsx)(n.G,{icon:c.eW2})," \xa0 Create Chemical"]}),(0,h.jsx)(w,{})]})]})]})})}}}]);