"use strict";(self.webpackChunkpest_admin=self.webpackChunkpest_admin||[]).push([[440],{81325:function(e,t,a){var n=a(66585);t.Z={createTechnician:e=>n.Z.Post("technician/createTechnician",e),technicianList:e=>n.Z.Get("technician/getTechnician",e),technicianTask:e=>n.Z.Get("task/getTasks",e),createTechnicianTask:e=>n.Z.Post("task/createTask",e),DeleteTechinician:e=>{let t=`technician/delete/${e}`;return n.Z.Post(t)},DeletedTechnician:e=>n.Z.Get("technician/all/deletedTechnician",e),RestoreTechnician:e=>{const t=`technician/delete/technician/${e}`;return n.Z.Post(t)},TechnicianCount:e=>n.Z.Get("company/totalTechnician",e),StartTaskCount:e=>n.Z.Get("task/start/taskcount",e),OngoingTaskCount:e=>n.Z.Get("task/ongoing/taskcount",e),CompletedTaskCount:e=>n.Z.Get("task/completed/taskcount",e),RegisterTechnicican:e=>n.Z.Post("otherauth/technicianRegister",e),EditTechnician:e=>{const t=`technician/editTechnician/${e.id}`;return n.Z.Post(t,e)},GetReports:e=>n.Z.Get("task/completedTaskDetails/",e),deleteTask:e=>n.Z.Post("task/delete/task",e)}},48440:function(e,t,a){a.r(t);var n=a(47313),i=a(97890),c=a(86121),s=a(43690),d=a(57884),r=a(22834),l=a(71820),o=a(33497),h=a(67118),u=a(81325),m=a(70816),x=a.n(m),k=a(65213),p=a(46417);const T=e=>{let{editing:t,dataIndex:a,title:n,inputType:i,children:r,...l}=e;const o="number"===i?(0,p.jsx)(c.Z,{}):(0,p.jsx)(s.Z,{});return(0,p.jsx)("td",{...l,children:t?(0,p.jsx)(d.Z.Item,{name:a,style:{margin:0},rules:[{required:!0,message:`Please Input ${n}!`}],children:o}):r})};t.default=()=>{const[e]=d.Z.useForm(),[t,a]=(0,n.useState)([]),[c,s]=(0,n.useState)(""),[m,Z]=(0,n.useState)(!1),g=(0,i.s0)();(0,n.useEffect)((()=>{"true"===localStorage.getItem("login")?f():g("/")}),[]);const f=async()=>{Z(!0);try{const e=await u.Z.technicianList();a(e.data.Results)}catch(e){console.error("Error fetching technicians:",e)}Z(!1)},b=[{title:"S.No",dataIndex:"sNo",width:"5%",editable:!0,render:(e,t,a)=>a+1},{title:"Name",dataIndex:"name",width:"15%",editable:!0,fixed:"left",render:(e,t)=>`${t.firstName} ${t.lastName}`},{title:"Phone",dataIndex:"phoneNumber",width:"12%",editable:!0},{title:"Email",dataIndex:"email",width:"20%",editable:!0},{title:"Created Date",dataIndex:"created_date",width:"15%",render:e=>x()(e).format("DD-MM-YYYY")},{title:"Action",width:"10%",dataIndex:"action",fixed:"right",render:(e,t)=>(0,p.jsx)("div",{className:"d-flex justify-content-center",children:(0,p.jsx)("div",{style:{cursor:"pointer"},children:(0,p.jsx)(r.ZP,{className:"tech-btn",type:"primary",onClick:()=>(e=>{const{_id:t}=e;g(`/create/Task-model/${t}`,{state:{data:e}})})(t),children:"Create Task"})})})}].map((e=>({...e,onCell:t=>({record:t,inputType:"age"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title})})));return(0,p.jsxs)(p.Fragment,{children:[m&&(0,p.jsx)(k.Z,{show:m}),(0,p.jsxs)(o.Z,{title:"Create Task",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,p.jsx)("button",{id:"add-cus",type:"submit",onClick:()=>g("/add/details/#tech"),className:"btn btn-primary",children:"Add Technician"}),(0,p.jsx)(h.Z,{onChange:e=>{const n=e.target.value;if(s(n),""===n)f();else{const e=t.filter((e=>e.firstName.toLowerCase().includes(n.toLowerCase())));a(e)}},placeholder:"Search by name",value:c,style:{width:"150px",marginLeft:"20px"}})]}),(0,p.jsx)(d.Z,{form:e,component:!1,children:(0,p.jsx)(l.Z,{components:{body:{cell:T}},bordered:!0,dataSource:t,columns:b,rowClassName:"editable-row",pagination:{pageSize:20}})})]})]})}}}]);