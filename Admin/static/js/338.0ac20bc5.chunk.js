"use strict";(self.webpackChunkpest_admin=self.webpackChunkpest_admin||[]).push([[338],{81325:function(e,t,a){var n=a(66585);t.Z={createTechnician:e=>n.Z.Post("technician/createTechnician",e),technicianList:e=>n.Z.Get("technician/getTechnician",e),technicianTask:e=>n.Z.Get("task/getTasks",e),createTechnicianTask:e=>n.Z.Post("task/createTask",e),DeleteTechinician:e=>{let t=`technician/delete/${e}`;return n.Z.Post(t)},DeletedTechnician:e=>n.Z.Get("technician/all/deletedTechnician",e),RestoreTechnician:e=>{const t=`technician/delete/technician/${e}`;return n.Z.Post(t)},TechnicianCount:e=>n.Z.Get("company/totalTechnician",e),StartTaskCount:e=>n.Z.Get("task/start/taskcount",e),OngoingTaskCount:e=>n.Z.Get("task/ongoing/taskcount",e),CompletedTaskCount:e=>n.Z.Get("task/completed/taskcount",e),RegisterTechnicican:e=>n.Z.Post("otherauth/technicianRegister",e),EditTechnician:e=>{const t=`technician/editTechnician/${e.id}`;return n.Z.Post(t,e)},GetReports:e=>n.Z.Get("task/completedTaskDetails/",e),deleteTask:e=>n.Z.Post("task/delete/task",e)}},23338:function(e,t,a){a.r(t);var n=a(47313),i=a(31046),c=a(33497),s=a(57884),d=a(22834),r=a(71820),o=a(67118),l=a(81325),h=a(70816),u=a.n(h),m=a(46417);t.default=()=>{const[e]=s.Z.useForm(),[t,a]=(0,n.useState)([]),[h,T]=(0,n.useState)("");(0,n.useEffect)((()=>{k()}),[]);const k=async()=>{try{const e=(await l.Z.technicianTask()).data.Results,t=e.reduce(((e,t)=>{var a;return e.push(...null===(a=t.technicians[0])||void 0===a?void 0:a.tasks),e}),[]).filter((e=>"completed"===e.status));a(t)}catch(e){console.error("Error fetching tasks:",e)}},Z=[{title:"S.No",dataIndex:"sNo",width:"5%",render:(e,t,a)=>a+1},{title:"Service ID",dataIndex:"_id",width:"10%"},{title:"Service Name",dataIndex:"serviceName",width:"15%"},{title:"Customer Name",dataIndex:"companyName",width:"13%"},{title:"Technician Name",children:[{title:"Technician Name",dataIndex:"assignedTo",width:"10%",render:(e,t)=>t.assignedTo&&t.assignedTo.map((e=>`${e.firstName} ${e.lastName}`))},{title:"Technician-2",dataIndex:"technicianname2",width:"10%"}]},{title:"Start Date",dataIndex:"startDate",width:"10%",render:e=>u()(e).format("DD-MM-YYYY")},{title:"Start Time",dataIndex:"starttime",width:"10%",render:e=>u()(e).format("DD-MM-YYYY")},{title:"End Time",dataIndex:"endtime",width:"11%",render:e=>u()(e).format("DD-MM-YYYY")},{title:"Status",dataIndex:"status",width:"10%",fixed:"right",render:()=>(0,m.jsx)(d.ZP,{style:{cursor:"no-drop",backgroundColor:"#21A063",color:"white"},children:"Completed"})}];return(0,m.jsxs)(c.Z,{title:" Completed Tasks ",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-end",style:{position:"relative",bottom:"10px"},children:[(0,m.jsx)(i.Z,{children:"Download"}),(0,m.jsx)(o.Z,{onChange:e=>{const t=e.target.value;T(t)},value:h,style:{width:"150px",marginLeft:"20px"}})]}),(0,m.jsx)(s.Z,{form:e,component:!1,children:(0,m.jsx)(r.Z,{dataSource:t,columns:Z,pagination:{},scroll:{x:2e3}})})]})}}}]);