"use strict";(self.webpackChunkpest_admin=self.webpackChunkpest_admin||[]).push([[1],{69338:function(e,s,t){var a=t(66585);s.Z={resetPwdCustomer:e=>a.Z.Post("otherauth/resetPassword",e),registeredCustomer:e=>a.Z.Get("otherauth/GetregisteredCustomers",e),resetPwdTechnician:e=>a.Z.Post("otherauth/resetPassword/tech",e),registeredTechnician:e=>a.Z.Get("otherauth/getregisteredTechnician",e)}},82001:function(e,s,t){t.r(s);var a=t(47313),r=t(33497),i=t(19840),d=t(86121),n=t(43690),l=t(57884),o=t(91287),c=t(96892),m=t(11396),u=t(22834),h=t(89512),w=t(20440),p=t(69338),x=t(70816),g=t.n(x),A=t(41948),f=t(65213),j=t(97890),Z=t(46417);const v=e=>{let{editing:s,dataIndex:t,title:a,inputType:r,children:i,...o}=e;const c="number"===r?(0,Z.jsx)(d.Z,{}):(0,Z.jsx)(n.Z,{});return(0,Z.jsx)("td",{...o,children:s?(0,Z.jsx)(l.Z.Item,{name:t,style:{margin:0},rules:[{required:!0,message:`Please Input ${a}!`}],children:c}):i})};s.default=()=>{const[e,s]=(0,a.useState)(!1),[t]=l.Z.useForm(),[d,x]=(0,a.useState)(""),[C,P]=(0,a.useState)(""),[y,I]=(0,a.useState)(""),[b,k]=(0,a.useState)(""),[B,F]=(0,a.useState)(!1),N=(0,j.s0)();(0,a.useEffect)((()=>{"true"===localStorage.getItem("login")||N("/")}),[]),(0,a.useEffect)((()=>{G()}),[b]);const E=e=>e.key===C,D=()=>{P("")},G=async()=>{F(!0);try{var e;const s=await(null===p.Z||void 0===p.Z?void 0:p.Z.registeredTechnician()),t=(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.data).sort(((e,s)=>new Date(s.created_date)-new Date(e.created_date)));x(t)}catch(s){console.log(s)}finally{F(!1)}},L=async e=>{F(!0);try{const a=await p.Z.resetPwdTechnician({email:null===e||void 0===e?void 0:e.email,password:null===e||void 0===e?void 0:e.password,confirmpassword:null===e||void 0===e?void 0:e.confirmpassword});200==a.status?(k(a),A.Am.success(a.data.message),s(!1),t.resetFields()):A.Am.error(a.data.message)}catch(a){console.error("Error resetting password:",a),A.Am.error("Failed to reset password")}finally{F(!1)}},S=[{title:"S.No",dataIndex:"sNo",width:"5%",editable:!0,render:(e,s,t)=>t+1},{title:"Name",dataIndex:"name",width:"15%",editable:!0,fixed:"left",render:(e,s)=>`${s.firstName} ${s.lastName}`},{title:"Email",dataIndex:"email",width:"20%",editable:!0},{title:"Password",dataIndex:"password",width:"15%",editable:!0},{title:"Role",dataIndex:"role",width:"10%",editable:!0},{title:"Created Date",dataIndex:"created_date",width:"15%",render:e=>g()(e).format("DD-MM-YYYY")},{title:"Actions",width:"8%",dataIndex:"actions",render:(e,a)=>E(a)?(0,Z.jsxs)("span",{children:[(0,Z.jsx)(o.Z.Link,{onClick:()=>(async e=>{try{const s=await t.validateFields(),a=[...d],r=a.findIndex((s=>e===s.key));if(r>-1){const e=a[r];a.splice(r,1,{...e,...s}),x(a),P("")}else a.push(s),x(a),P("")}catch(s){console.log("Validate Failed:",s)}})(a.key),style:{marginRight:8},children:"Save"}),(0,Z.jsx)(c.Z,{title:"Sure to cancel?",onConfirm:D,children:(0,Z.jsx)("a",{children:"Cancel"})})]}):(0,Z.jsx)("div",{className:"d-flex gap-3 justify-content-center",children:(0,Z.jsx)("div",{style:{cursor:"pointer"},children:(0,Z.jsx)(m.Z,{title:"Click here for reset password",children:(0,Z.jsxs)(o.Z.Link,{onClick:()=>{return e=a.email,console.log("email-----------\x3e",e),I(e),void s(!0);var e},children:[" ",(0,Z.jsx)("img",{style:{width:"25px"},src:w,alt:"reser"})," "]})})})})}].map((e=>e.editable?{...e,onCell:s=>({record:s,inputType:"age"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title,editing:E(s)})}:e));return(0,Z.jsxs)(Z.Fragment,{children:[B&&(0,Z.jsx)(f.Z,{show:B}),(0,Z.jsxs)(r.Z,{title:"Manage Technician Login ",children:[(0,Z.jsx)(l.Z,{form:t,onFinish:L,children:(0,Z.jsx)(h.Z,{components:{body:{cell:v}},bordered:!0,dataSource:d,columns:S,rowClassName:"editable-row",pagination:{onChange:D}})}),(0,Z.jsxs)(i.Z,{visible:e,onCancel:()=>{s(!1),t.resetFields()},footer:null,children:[(0,Z.jsx)("h4",{className:"reset-title",children:"Reset Password"}),(0,Z.jsxs)(l.Z,{form:t,onFinish:L,initialValues:{email:y},className:"formReset",children:[(0,Z.jsx)(l.Z.Item,{name:"email",placeholder:y,disabled:!0,rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Please enter a valid email address!"}],className:"forminput",children:(0,Z.jsx)(n.Z,{placeholder:"Email",disabled:!0})}),(0,Z.jsx)(l.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],className:"forminput",children:(0,Z.jsx)(n.Z.Password,{placeholder:"Password"})}),(0,Z.jsx)(l.Z.Item,{name:"confirmpassword",dependencies:["password"],className:"forminput",rules:[{required:!0,message:"Please confirm your password!"},e=>{let{getFieldValue:s}=e;return{validator(e,t){return t&&s("password")!==t?Promise.reject("The two passwords do not match!"):Promise.resolve()}}}],children:(0,Z.jsx)(n.Z.Password,{placeholder:"Confirm Password"})}),(0,Z.jsx)(l.Z.Item,{children:(0,Z.jsx)(u.ZP,{type:"primary",htmlType:"submit",children:"Reset Password"})})]})]}),(0,Z.jsx)(A.Ix,{})]})]})}},20440:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEEklEQVR4nO1Y32tcRRSe2CK01Ipii4oPQlt/9KHduYsSimGxzE2KDz4I+6DVZGZrQnZuYulfEBCpieCDKEhRaWeWUFgRxDcxVUlaqMS3UquJWnZm07TUPvjgjwrNyLl7U5Pu7O7dvfdm17IfDAT25Mz5Zs6Z852LUBdddLEOe7PZex1CpzChVxyXmc5YdMlx2STEhhoBDNsfMLMu7NK3QxDw2ZpUPz2AOgRpwp5bvYmGxqtsUYfBCRvXXU8AE3bWcen8PvfVnbAcwr7HLp1LwiYRArCRX1CEXkoReinIzfkkbBIhkDrEdjgu/eH260DY4jOZoYeTsNkgAnQxPTDySBI2iaYQXDtukB5RbZIpYpfOrSs+l85jwmaTsFmL7jPabjjhU6giJaB9N7tJviwPcCUmuZJfcS2uelr+Ayv4e87T8p28EhlkTE9TwQ/QvoBAuaExCCarkCLsrPUfjOnhWrzGtbjoaWnCLbHoKcmyprjJGjBh52rEcLwhAZCsFRKVm1ijBKu65Bt6ek9wsqbF9e24LjxWdYh+l14XfBmCDyWnwwJSgWt5I0Lw/uJK/jZWFiS2wJoI/u+owXurS8k/RnWhd0OCh7Spd/JciW88VXg9f1k8fUwVt4wvFLaPlgtPci2Gobjr3YRXFk8kG70xPbVynmvxa5hUGCsV+vwitt6EOF+rsGMBvDa1Nh5Zmn4orJ98afoBrsWs9SBKkiZJ4KLt5MevfLKjWV/H1EcPciUWLKn0U7N9InSTsp1YlBdkTMuDVp+lQh/8nnLZEVCsKUL3RCYAHdZWsFH9ekrMWG51CqQ1Juz3itQeiv5C2TYaU/JIs37wwcF9mNAbmND3MpmJzfA62RocJuxU0MQ+jxy8T0DL5SoCSyefatZPqp/txy77K5AGZw5/Ntl7p9/Br9+/7rhsBezSzw/uioUA1+LmnRuNLJ3Y2oqv9AB1MGHKP+F+djl3/sO1RWz6hsdXggHnrViCr0ngl+L9rfrDJPcoJvQ7X/keyt18+Yt3fZ/Z01O39c/eDN8WJ4GrVbkasXP29ma3YJdNBwGvvPjBm+bZl4ZvVeQ8fQXFCVsHhgKMw7dD6FGH0FtrvlCcQwjF2wtgGLF04Jm4/KcJfQETegFk+/6BocdREgq0XtPpfBgQctUijGv5M2gb9H8AVyJXQ4nOgrZBnY6sKW6CLlljDlgAbdPIR750Ku3pwtFWBGAsgBnWHz5qTldiBl4nGGj4teI2GGq4kru9shjytPzyP1txIXf94/tQOwAKFMbAGEbJT1G7ADNs3ZsIuUaX5c62kYBODNNYq8FzJc4kMrw0W9gwBtqmqzp18iNX8vCEmbgHdQyM6YGmBsNI8FItw6cXrsWfXAkNp82VOL5hn0+66AKFwr+B3SxwKIgDvwAAAABJRU5ErkJggg=="}}]);